/* 
	환자 병원 진료 정보 : 환자 이름 입력 시  환자 정보, 진료 정보, 차트 정보가 조회되는 화면 규현 
	NAME과 일치하는 이름의 환자 정보를 한번에 볼 수 있다.
*/

SELECT P.NAME, C.CHART_NO, P.PATIENT_ID, P.DOC_ID, P.NURSE_ID, T.DATE, T.CONTENTS, C.DOC_OPINION,  P.SEX, P.SOCIALNUM, P.ADDRESS, P.PHONENUM, P.JOB, P.EMAIL
FROM PATIENT P
JOIN TREATMENT T ON P.PATIENT_ID = T.PATIENT_ID
JOIN CHART C ON P.PATIENT_ID = C.PATIENT_ID
WHERE NAME="이민호";


/* 진료과목 입력 시 환자 리스트 반환 */

SELECT P.NAME, D.DEPTNAME, N.DEPTNAME
FROM PATIENT P
JOIN DOCTOR D ON  P.DOC_ID=D.DOC_ID
JOIN NURSE N ON P.NURSE_ID=N.NURSE_ID
WHERE D.DEPTNAME="정형외과"
